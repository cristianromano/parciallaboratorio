import{a as G,b as m,c as j,d as R,e as $,f as u,g as z,h as L,i as U,j as Z,k as H,l as J,m as K,n as Q,o as W}from"./chunk-BYBGR5XA.js";import{a as re}from"./chunk-YUODEZBQ.js";import{a as x}from"./chunk-HODLGWP7.js";import{a as T,b as k,e as q}from"./chunk-DUCZA3NO.js";import{a as X}from"./chunk-CB36SYWA.js";import{$ as D,C as I,D as B,E as d,F as S,J as c,K as s,M as t,N as e,O as p,P as O,Q as _,R as M,S as P,T as a,U as V,X as E,_ as A,aa as C,d as te,p as y,s as F,x as N,y as w}from"./chunk-Z23AUV36.js";var ee=te(re());function oe(n,i){if(n&1){let g=O();t(0,"li",4),_("click",function(){let l=N(g).$implicit,r=M();return w(r.selectBandera(l))}),p(1,"img",5),t(2,"span"),a(3),e()()}if(n&2){let g=i.$implicit;d(),P("alt",g.nombre),s("src",g.bandera,B),d(2),V(g.nombre)}}var Y=(()=>{let i=class i{constructor(o){this.banderaService=o,this.banderas=[],this.banderaElegida=null,this.banderaSeleccionada=new I}ngOnInit(){this.banderaService.traerBanderasRegion("europe").forEach(o=>{o.slice(0,2).forEach(r=>{this.banderas.push({bandera:r.flags.svg,nombre:r.name.common})})}),this.banderaService.traerBanderasRegion("africa").forEach(o=>{o.slice(0,2).forEach(r=>{this.banderas.push({bandera:r.flags.svg,nombre:r.name.common})})})}selectBandera(o){this.banderaSeleccionada.emit(o)}};i.\u0275fac=function(l){return new(l||i)(S(x))},i.\u0275cmp=F({type:i,selectors:[["app-banderas"]],outputs:{banderaSeleccionada:"banderaSeleccionada"},standalone:!0,features:[E],decls:5,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,"list-group"],["class","list-group-item d-flex align-items-center bandera-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center","bandera-item",3,"click"],["width","50","height","30",1,"me-3",3,"src","alt"]],template:function(l,r){l&1&&(t(0,"div",0)(1,"h1",1),a(2,"Lista de Banderas"),e(),t(3,"ul",2),c(4,oe,4,3,"li",3),e()()),l&2&&(d(4),s("ngForOf",r.banderas))},dependencies:[C,A],styles:[".bandera-item[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s,transform .3s}.bandera-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;transform:scale(1.02)}"]});let n=i;return n})();function le(n,i){n&1&&(t(0,"div",22),a(1," El DNI debe contener exactamente 8 n\xFAmeros. "),e())}function de(n,i){n&1&&(t(0,"div",22),a(1," El nombre solo acepta letras. "),e())}function me(n,i){n&1&&(t(0,"div",22),a(1," La edad debe estar en el rango de 18 a 99. "),e())}function se(n,i){n&1&&(t(0,"div",22),a(1," la capacidad debe estar en el rango de 1 a 10. "),e())}var ye=(()=>{let i=class i{constructor(o,l){this.formBuilder=o,this.banderasService=l,this.firestore=y(k),this.banderaSeleccionada=null,this.repartidorForm=new $({dni:new u(null,[m.required,m.pattern("^[0-9]{8}$")]),nombre:new u("",[m.required,m.pattern("^[a-zA-Z ]+$")]),edad:new u(null,[m.required,m.min(18),m.max(99)]),capacidad:new u(null,[m.required,m.min(1),m.max(10)]),pais:new u({value:"",disabled:!0},m.required),unidadPropia:new u("",m.required)})}ngOnInit(){}submitForm(){this.repartidorForm.get("pais")?.enable(),q(T(this.firestore,"repartidores"),{dni:this.repartidorForm.get("dni")?.value,nombre:this.repartidorForm.get("nombre")?.value,edad:this.repartidorForm.get("edad")?.value,capacidad:this.repartidorForm.get("capacidad")?.value,pais:this.repartidorForm.get("pais")?.value,unidadPropia:this.repartidorForm.get("unidadPropia")?.value}).then(()=>{ee.default.fire("Repartidor agregado","","success"),this.repartidorForm.reset()})}onBanderaSeleccionada(o){this.repartidorForm.get("pais")?.setValue(o.nombre)}};i.\u0275fac=function(l){return new(l||i)(S(Q),S(x))},i.\u0275cmp=F({type:i,selectors:[["app-altarepartidor"]],standalone:!0,features:[E],decls:42,vars:8,consts:[[1,"full-background"],[1,"container-fluid","d-flex","justify-content-evenly","align-items-center","mt-5"],[1,"card","p-4","shadow"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni",1,"form-control"],["class","text-danger",4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad",1,"form-control"],["for","capacidad",1,"form-label"],["type","number","id","capacidad","formControlName","capacidad",1,"form-control"],["for","pais",1,"form-label"],["type","text","id","pais","formControlName","pais",1,"form-control"],["for","unidadPropia",1,"form-label"],["id","unidadPropia","formControlName","unidadPropia",1,"form-select"],[3,"ngValue"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"banderaSeleccionada"],[1,"text-danger"]],template:function(l,r){if(l&1&&(t(0,"div",0),p(1,"app-navbar"),t(2,"div",1)(3,"div",2)(4,"h2",3),a(5,"Formulario de Repartidor"),e(),t(6,"form",4),_("ngSubmit",function(){return r.submitForm()}),t(7,"div",5)(8,"label",6),a(9,"DNI:"),e(),p(10,"input",7),c(11,le,2,0,"div",8),e(),t(12,"div",5)(13,"label",9),a(14,"Nombre:"),e(),p(15,"input",10),c(16,de,2,0,"div",8),e(),t(17,"div",5)(18,"label",11),a(19,"Edad:"),e(),p(20,"input",12),c(21,me,2,0,"div",8),e(),t(22,"div",5)(23,"label",13),a(24,"Capacidad de Transporte (unidades de potes de helados):"),e(),p(25,"input",14),c(26,se,2,0,"div",8),e(),t(27,"div",5)(28,"label",15),a(29,"Pa\xEDs de Origen:"),e(),p(30,"input",16),e(),t(31,"div",5)(32,"label",17),a(33,"Unidad Propia:"),e(),t(34,"select",18)(35,"option",19),a(36,"S\xED"),e(),t(37,"option",19),a(38,"No"),e()()(),t(39,"button",20),a(40," Guardar "),e()()(),t(41,"app-banderas",21),_("banderaSeleccionada",function(h){return r.onBanderaSeleccionada(h)}),e()()()),l&2){let v,h,f,b;d(6),s("formGroup",r.repartidorForm),d(5),s("ngIf",(v=r.repartidorForm.get("dni"))==null||v.errors==null?null:v.errors.pattern),d(5),s("ngIf",(h=r.repartidorForm.get("nombre"))==null||h.errors==null?null:h.errors.pattern),d(5),s("ngIf",((f=r.repartidorForm.get("edad"))==null||f.errors==null?null:f.errors.min)||((f=r.repartidorForm.get("edad"))==null||f.errors==null?null:f.errors.max)),d(5),s("ngIf",((b=r.repartidorForm.get("capacidad"))==null||b.errors==null?null:b.errors.min)||((b=r.repartidorForm.get("capacidad"))==null||b.errors==null?null:b.errors.max)),d(9),s("ngValue",!0),d(2),s("ngValue",!1),d(2),s("disabled",!(r.repartidorForm!=null&&r.repartidorForm.valid))}},dependencies:[W,z,J,K,G,L,H,j,R,U,Z,C,D,X,Y],styles:["[_nghost-%COMP%]{display:block;background-image:url(/assets/helados.png)}.full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}"]});let n=i;return n})();export{ye as AltarepartidorComponent};
